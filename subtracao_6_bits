module subtracao_6_bits(
    input  logic [5:0] A, B,
    output logic [5:0] S,
    output logic Overflow, Zero
);
    logic signed [6:0] A_ext_signed, B_ext_signed, result_signed;

    always_comb begin
        // Estende o sinal corretamente
        A_ext_signed = {A[5], A};
        B_ext_signed = {B[5], B};

        // Subtração com números assinados
        result_signed = A_ext_signed - B_ext_signed;

        // Resultado truncado para 6 bits
        S = result_signed[5:0];

        // Detecta overflow na subtração com sinal
        Overflow = (A[5] != B[5]) && (S[5] != A[5]);

        // Verifica se o resultado é zero
        Zero = (S == 6'b000000);
    end
endmodule
